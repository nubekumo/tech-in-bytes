{% extends 'base.html' %}
{% load static %}
{% block title %}{% if object.status == 'draft' %}Publish{% else %}Unpublish{% endif %} Post - Tech Bloggers{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/pages/blog.css' %}?v={{ STATIC_VERSION }}" />
{% endblock %}

{% block content %}
<div class="delete-confirmation">
  <div class="confirmation-card">
    <h1 class="confirmation-title">{% if object.status == 'draft' %}Publish Post{% else %}Unpublish Post{% endif %}</h1>
    
    <div class="post-preview">
      {% if object.image %}
      <div class="post-image">
        <img src="{{ object.image.url }}" alt="{{ object.title }}" />
      </div>
      {% endif %}
      
      <div class="post-details">
        <h2 class="post-title">{{ object.title }}</h2>
        <p class="post-summary">{{ object.summary|truncatewords:30 }}</p>
        <div class="post-meta">
          <span class="post-date">Created: {{ object.created_at|date:"F j, Y" }}</span>
          <span class="post-status status-{{ object.status }}">{{ object.status|title }}</span>
        </div>
      </div>
    </div>

    <div class="warning-message warning">
      <div class="warning-icon">⚠️</div>
      <div class="warning-text">
        {% if object.status == 'draft' %}
          <h3>Are you sure you want to publish this post?</h3>
          <p>This will make your post visible to all users on the website.</p>
        {% else %}
          <h3>Are you sure you want to unpublish this post?</h3>
          <p>This will hide your post from public view and change it back to draft status.</p>
        {% endif %}
      </div>
    </div>

    <form method="post" class="confirmation-form">
      {% csrf_token %}
      <div class="form-actions">
        <button type="submit" class="btn btn--warning">
          {% if object.status == 'draft' %}Yes, Publish Post{% else %}Yes, Unpublish Post{% endif %}
        </button>
        <a href="{% url 'blog:post_manage' %}" class="btn btn--outline">
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
